3
dï¿½ï¿½_ï¿½@sddlmZGddï¿½dï¿½ZdS)ï¿½)ï¿½Blockc@s>eZdZddï¿½Zddï¿½Zddï¿½Zddï¿½Zd	d
ï¿½Zddd
ï¿½ZdS)ï¿½
BlockchaincCsg|_g|_|jï¿½dS)N)ï¿½chainZunconfirmed_transactionsï¿½
genesis_block)ï¿½selfï¿½rï¿½L/home/ccuser/workspace/blockchain-in-python-blockchain-summary/blockchain.pyï¿½__init__szBlockchain.__init__cCs&g}t|dï¿½}|jï¿½|jj|ï¿½dS)Nï¿½0)rï¿½
generate_hashrï¿½append)rï¿½transactionsrrrrr	s
zBlockchain.genesis_blockcCs8|jt|jï¿½dj}t||ï¿½}|jï¿½|jj|ï¿½dS)Nï¿½)rï¿½lenï¿½hashrrr)rr
ï¿½
previous_hashZ	new_blockrrrï¿½	add_blocks
zBlockchain.add_blockcCs>x8tt|jï¿½ï¿½D]&}|j|}tdj||ï¿½ï¿½|jï¿½qWdS)NzBlock {} {})ï¿½rangerrï¿½printï¿½formatZprint_contents)rï¿½iZ
current_blockrrrï¿½print_blockss
zBlockchain.print_blockscCsjxdtdt|jï¿½ï¿½D]P}|j|}|j|d}|j|jï¿½krHtdï¿½dS|j|jï¿½krtdï¿½dSqWdS)Nrz*Current hash does not equal generated hashFz!Previous block's hash got changedT)rrrrrrr)rrZcurrentZpreviousrrrï¿½validate_chains
zBlockchain.validate_chainï¿½cCsB|jï¿½}x.|ddï¿½d|kr6|jd7_|jï¿½}q
Wd|_|S)Nrr
rr)rZnonce)rï¿½blockZ
difficultyZproofrrrï¿½
proof_of_work(szBlockchain.proof_of_workN)r)	ï¿½__name__ï¿½
__module__ï¿½__qualname__r	rrrrrrrrrrsrN)rrrrrrrï¿½<module>s
